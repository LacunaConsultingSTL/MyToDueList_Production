(this.webpackJsonptodolist_ws=this.webpackJsonptodolist_ws||[]).push([[0],{106:function(e,t,a){e.exports=a.p+"static/media/logo.942c706d.png"},147:function(e,t,a){e.exports=a(188)},152:function(e,t,a){},153:function(e,t,a){},163:function(e,t,a){},188:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),i=a.n(o),l=(a(152),a(7)),c=(a(153),a(8)),s=a.n(c),u=a(14),d=a(33),m=a(131),p=a(217),f=a(234),g=a(235),h=a(236),b=a(237),x=a(253),E=a(241),v=a(222),y=a(242),w=a(243),j=a(134),k=a(244),O=a(245),C=a(246),L=a(55),T=a(259),S=a(262),N=a(264),D=a(240),B=a(248),U=a(226),P=a(251),A=a(230),I=a(247),W=a(249),R=a(250),F=a(228),V=a(107),z=a.n(V);a(156),a(158),a(159),a(189);z.a.initializeApp({apiKey:"AIzaSyDd5hiHu_pHZFJT0YiPZuUoVgUtgKlsG4o",authDomain:"todue-mullan.firebaseapp.com",databaseURL:"https://todue-mullan.firebaseio.com",projectId:"todue-mullan",storageBucket:"todue-mullan.appspot.com",messagingSenderId:"345532771312",appId:"1:345532771312:web:e211aa4bc3cfcfddb80b35"});var M=z.a,q=a(219),H=a(220),_=a(223),G=a(260),J=a(224),Y=a(255),K=a(195),X=a(111),Z=a(261),$=a(227),Q=a(257),ee=a(231),te=a(225),ae=a(229),ne=a(232),re=Object(p.a)((function(e){return{container:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},root:{width:"100%",backgroundColor:e.palette.background.paper,marginTop:"10px",marginBottom:"10px",paddingTop:"0px",outline:"none"},expensionSummary:{position:"relative",display:"block",border:"0px"},expansionPanelSummaryContent:{marginTop:"0px",marginBottom:"0px",border:"0px"},todoItemFormControl:{width:"calc(100% - 180px)",height:"0 px",marginTop:"0px",marginBottom:"0px",paddingTop:"0px",paddingBottom:"0px"},optionButtonArea:Object(d.a)({position:"fixed",outline:"0 !important",padding:0},"outline","none"),optionButtons:{outline:"0 !important",margin:"auto"},dateField:{position:"relative",outline:"0 !important",margin:"auto",textAlign:"right",marginRight:15,marginTop:0,border:"0px solid #ccc",padding:0,borderRadius:10,fontSize:"0.875rem"},rootButton:{display:"flex"},optionButtonPopper:{zIndex:9},listTitle:{marginRight:"10px",justifyContent:"right",padding:"6px",textAlign:"left",width:"100%",fontSize:25,borderBottom:"solid 4px #3dd19d"},search:{fontSize:17,marginTop:"10px",position:"relative",borderRadius:5,width:"50%",justifyContent:"right"},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(d.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),addTodoItemButton:{display:"block",outline:"0 !important",margin:"auto",marginTop:5},addTodoItemButtonIcon:{color:"#3dd19d",fontSize:30},addTaskButton:{color:"#3dd19d",fontSize:17,display:"flex",alignItems:"center",justifyContent:"center",width:"30%",height:"100%",padding:"9px",marginTop:"10px"},taskProps:{padding:e.spacing(0,2),pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},paper:{marginTop:"15px",boxshadow:"none",border:"none"},filterOptions:{marginTop:"15px",alignItems:"center",display:"flex",justifyContent:"center"},taskPropContainer:{justifyContent:"center",border:"solid 1black",alignItems:"center"}}}));var oe=function(e){var t=re(),a=e.list.todoList,o=a,i=Object(n.useState)(""),c=Object(l.a)(i,2),d=c[0],m=c[1],p=Object(n.useState)(!1),f=Object(l.a)(p,2),g=f[0],h=f[1],b=Object(n.useState)(!1),x=Object(l.a)(b,2),E=x[0],y=x[1],w=Object(n.useState)(!1),k=Object(l.a)(w,2),O=k[0],C=k[1],S=Object(n.useState)(!1),N=Object(l.a)(S,2),D=N[0],B=N[1],U=Object(n.useState)("due"),P=Object(l.a)(U,2),I=P[0],W=P[1],R=Object(n.useState)(!1),V=Object(l.a)(R,2),z=V[0],M=V[1],oe=Object(n.useState)(!0),ie=Object(l.a)(oe,2),le=ie[0],ce=ie[1],se=Object(n.useState)(!1),ue=Object(l.a)(se,2),de=ue[0],me=ue[1],pe=Object(n.useState)(!1),fe=Object(l.a)(pe,2),ge=fe[0],he=fe[1],be=[];be=e.list.id?e.list.todoList.filter((function(e){return!e.isComplete})):[];var xe=[];xe=e.list.id?e.list.todoList.filter((function(e){return e.isComplete})):[];var Ee=[];Ee=e.list.id?e.list.todoList.filter((function(e){return e})):[];var ve=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t.target.value);case 2:if("created"!==I){e.next=9;break}return e.next=5,M(!1);case 5:return e.next=7,ce(!0);case 7:e.next=14;break;case 9:if("due"!==I){e.next=14;break}return e.next=12,M(!0);case 12:return e.next=14,ce(!1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();z&&e.list.id&&o.length>0?o=o.sort((function(e,t){return e.createDate-t.createDate})):le&&e.list.id&&o.length>0&&(o=o.sort((function(e,t){return e.date-t.date})));var ye=[],we=[],je=[],ke=[];if(e.list.id){var Oe=(new Date).getTime();ye=be.filter((function(e){return new Date(e.date)>new Date})),we=be.filter((function(e){return e.date<Oe})),je=e.list.todoList.filter((function(t){return t.assignedTo!==e.currentUserEmail&&""!==t.assignedTo&&t.assignedBy===e.currentUserEmail})),ke=e.list.todoList.filter((function(t){return t.assignedBy!==e.currentUserEmail&&t.assignedTo===e.currentUserEmail})),o=O?ye:D?we:g?e.list.todoList.filter((function(e){return e.isComplete})):E?e.list.todoList.filter((function(e){return!e.isComplete})):de?je:ge?ke:e.list.todoList.filter((function(e){return e.name.toLowerCase().includes(d.toLocaleLowerCase())}))}else{o=[]}var Ce=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(!1);case 2:return e.next=4,he(!1);case 4:return e.next=6,y(!1);case 6:return e.next=8,h(!1);case 8:return e.next=10,C(!1);case 10:return e.next=12,B(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(e){var t=e.toString();return t.toString().length>1?t:"0"+t},Te=function(t,a,n){t.stopPropagation(),e.openEditDialog(a,n)},Se=function(t,n,r){t.stopPropagation();var o=a.splice(r,1),i=o[0].assignedTo,l=o[0].assignedBy;i!==e.currentUserEmail&&""!==i&&l===e.currentUserEmail&&e.removeNewAssignment(e.selectedList.id,e.selectedList.name,o[0]),e.updateTodoList({name:e.list.name,todoList:a})},Ne=function(t,n){t.stopPropagation(),n.isComplete=!n.isComplete,n.assignedTo!==e.currentUserEmail&&""!==n.assignedTo&&e.addNewAssignment(e.selectedList.id,e.selectedList.name,n),n.assignedBy!==e.currentUserEmail&&""!==n.assignedTo&&e.addNewAssignment(e.selectedList.id,e.selectedList.name,n,"complex"),e.updateTodoList({name:e.list.name,todoList:a})};return e.list.id?r.a.createElement(q.a,{maxWidth:"lg",className:t.container},r.a.createElement(H.a,{container:!0,spacing:1},r.a.createElement(H.a,{item:!0,xs:12,sm:12,md:3,lg:3},r.a.createElement(L.a,{variant:"h6",className:t.listTitle},"Board: ",e.list.name)),r.a.createElement(H.a,{item:!0,xs:12,sm:12,md:4,lg:4},r.a.createElement(T.a,{display:"flex"},r.a.createElement(v.a,{className:t.addTaskButton,color:"primary","aria-label":"edit",onClick:function(t){e.openNewTodoDialog()}},"Add task")))),r.a.createElement(H.a,{container:!0,spacing:1},r.a.createElement(H.a,{item:!0,xs:12,sm:12,lg:12},r.a.createElement(v.a,{color:"black",onClick:Ce},r.a.createElement(L.a,{style:E||g?null:{fontWeight:"bold"}},"All")," ",r.a.createElement(L.a,{variant:"h6"},r.a.createElement(L.a,{style:{paddingLeft:"15px"},display:"inline",variant:"h6",color:"primary"}," ",Ee.length))),r.a.createElement(v.a,{color:"black",outline:"none",onClick:Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(!0);case 2:return e.next=4,h(!1);case 4:return e.next=6,C(!1);case 6:return e.next=8,B(!1);case 8:case"end":return e.stop()}}),e)})))},r.a.createElement(L.a,{style:E?{fontWeight:"bold"}:null},"Todue")," ",r.a.createElement(L.a,{variant:"h6"},r.a.createElement(L.a,{style:{paddingLeft:"5px"},display:"inline",variant:"h6",color:"primary"}," ",be.length))),r.a.createElement(v.a,{color:"black",onClick:Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(!0);case 2:return e.next=4,y(!1);case 4:return e.next=6,C(!1);case 6:return e.next=8,B(!1);case 8:case"end":return e.stop()}}),e)})))},r.a.createElement(L.a,{style:g?{fontWeight:"bold"}:null},"Todone")," ",r.a.createElement(L.a,{variant:"h6"},r.a.createElement(L.a,{style:{paddingLeft:"5px"},display:"",variant:"h6",color:"primary"}," ",xe.length))),r.a.createElement(v.a,{color:"black",onClick:Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(!0);case 2:return e.next=4,he(!1);case 4:return e.next=6,y(!1);case 6:return e.next=8,h(!1);case 8:return e.next=10,C(!1);case 10:return e.next=12,B(!1);case 12:case"end":return e.stop()}}),e)})))},r.a.createElement(L.a,{style:de?{fontWeight:"bold"}:null},"Assigned to others")," ",r.a.createElement(L.a,{variant:"h6"},r.a.createElement(L.a,{style:{paddingLeft:"5px"},display:"inline",variant:"h6",color:"primary"}," ",je.length))),r.a.createElement(v.a,{color:"black",onClick:Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(!1);case 2:return e.next=4,he(!0);case 4:return e.next=6,C(!1);case 6:return e.next=8,B(!1);case 8:return e.next=10,h(!1);case 10:return e.next=12,y(!1);case 12:case"end":return e.stop()}}),e)})))},r.a.createElement(L.a,{style:ge?{fontWeight:"bold"}:null},"Assigned to me")," ",r.a.createElement(L.a,{variant:"h6"},r.a.createElement(L.a,{style:{paddingLeft:"5px"},display:"",variant:"h6",color:"primary"}," ",ke.length))),r.a.createElement(v.a,{color:"black",onClick:Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(!1);case 2:return e.next=4,B(!0);case 4:return e.next=6,y(!1);case 6:return e.next=8,h(!1);case 8:case"end":return e.stop()}}),e)})))},r.a.createElement(L.a,{style:D?{fontWeight:"bold"}:null},"OverDue")," ",r.a.createElement(L.a,{variant:"h6"},r.a.createElement(L.a,{style:{paddingLeft:"5px",color:"red"},display:"",variant:"h6"}," ",we.length))),r.a.createElement(_.a,{component:"fieldset"},r.a.createElement(G.a,{style:{display:"flex",flexDirection:"row"},"aria-label":"sort by",name:"sortCreateDue",value:I,onChange:ve},r.a.createElement(J.a,{style:{fontSize:"0.9rem"},value:"created",control:r.a.createElement(Y.a,null),label:"Date Created"}),r.a.createElement(J.a,{style:{fontSize:"0.9rem"},value:"due",control:r.a.createElement(Y.a,null),label:"Due Date"}))),r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(te.a,{style:{color:"lightgreen"}})),r.a.createElement(K.a,{style:{marginTop:"10px"},placeholder:"Search your tasks\u2026",onChange:function(e){m(e.target.value)},value:d,classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"}}))),r.a.createElement(H.a,{item:!0,xs:12,sm:3,lg:4},r.a.createElement(X.a,{className:t.filterOptions})),r.a.createElement(H.a,{item:!0,xs:12,sm:3},r.a.createElement(X.a,{className:t.filterOptions})),r.a.createElement(H.a,{item:!0,xs:12,sm:3})),r.a.createElement("div",{className:t.filterAread}),e.list.todoList.length>0&&r.a.createElement("div",{className:t.root},o.map((function(a,n){var o=function(e){var t=new Date(e);return{date:Le(t.getUTCMonth()+1)+"/"+Le(t.getUTCDate())+"/"+Le(t.getUTCFullYear()),clock:Le(t.getHours())+":"+Le(t.getMinutes())}}(a.date);return r.a.createElement(Z.a,{key:n},r.a.createElement($.a,{expandIcon:r.a.createElement(F.a,null),"aria-label":"Expand","aria-controls":"additional-actions1-content",id:"additional-actions1-header",classes:{content:t.expansionPanelSummaryContent}},window.screen.availWidth<500?r.a.createElement("span",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(J.a,{className:t.todoItemFormControl,"aria-label":"Acknowledge",onClick:function(e){Ne(e,a)},onFocus:function(e){return e.stopPropagation()},control:r.a.createElement(Q.a,{checked:a.isComplete}),label:a.name,style:{maxWidth:"200px",minWidth:"200px",color:"black"}}),a.assignedTo?r.a.createElement(L.a,{variant:"subtitle2"},"Assigned To: ",a.assignedTo):null,r.a.createElement("span",{style:{display:"flex"}},r.a.createElement(L.a,{className:t.dateField},o.date,r.a.createElement("br",null),o.clock),a.assignedTo!==e.currentUserEmail?r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{"aria-label":"edit",className:t.optionButtons,onClick:function(e){Te(e,a,n)}},r.a.createElement(ae.a,null)),r.a.createElement(j.a,{"aria-label":"delete",className:t.optionButtons,onClick:function(e){Se(e,0,n)}},r.a.createElement(A.a,null))):null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{className:t.todoItemFormControl,"aria-label":"Acknowledge",onClick:function(e){Ne(e,a)},onFocus:function(e){return e.stopPropagation()},control:r.a.createElement(Q.a,{checked:a.isComplete}),label:a.name}),a.assignedTo?r.a.createElement(L.a,{variant:"subtitle2"},"Assigned To: ",a.assignedTo):null,r.a.createElement(L.a,{className:t.dateField},o.date," ",o.clock),a.assignedTo!==e.currentUserEmail?r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{"aria-label":"edit",className:t.optionButtons,onClick:function(e){Te(e,a,n)}},r.a.createElement(ae.a,null)),r.a.createElement(j.a,{"aria-label":"delete",className:t.optionButtons,onClick:function(e){Se(e,0,n)}},r.a.createElement(A.a,null))):null)),r.a.createElement(ee.a,null,r.a.createElement(L.a,{color:"textSecondary"},a.detail),r.a.createElement(L.a,{color:"textSecondary",className:t.taskProps},a.urgent),r.a.createElement(L.a,{color:"textSecondary",className:t.taskProps},a.important),r.a.createElement(L.a,{color:"textSecondary",className:t.taskProps},a.level)))}))),0===e.list.todoList.length&&r.a.createElement("div",null,r.a.createElement("h5",{style:{textAlign:"center",padding:25}},"Add the first task/ step to",r.a.createElement(L.a,{variant:"h6"}," ",e.list.name)," and start getting things todone around here...")),r.a.createElement(j.a,{"aria-label":"edit",className:t.addTodoItemButton,onClick:function(t){e.openNewTodoDialog()}},r.a.createElement(ne.a,{className:t.addTodoItemButtonIcon}))):r.a.createElement("div",null,r.a.createElement("h3",{style:{textAlign:"center",padding:25,marginTop:"50px",minHeight:"40vh"}},"Create your first board from left menu and start getting things todone around here."))},ie=a(106),le=a.n(ie),ce=a(256),se=a(233);a(163);var ue=function(e){var t=e.currentUserId,a=M.auth().currentUser.uid;M.auth().currentUser&&M.auth().currentUser.email,M.auth().currentUser&&M.auth().currentUser.displayName;if(!t)return alert("Please login first"),e.history.replace("/"),null;var o=Object(n.useState)(!1),i=Object(l.a)(o,2),c=i[0],d=i[1],m=Object(n.useState)(""),p=Object(l.a)(m,2),f=p[0],g=p[1],h=Object(n.useState)(""),b=Object(l.a)(h,2),x=b[0],E=b[1],v=Object(n.useState)(""),y=Object(l.a)(v,2),w=y[0],j=y[1],k=function(e,t){var a=r.a.useState([]),o=Object(l.a)(a,2),i=o[0],c=o[1];return Object(n.useEffect)((function(){M.firestore().collection(e).onSnapshot((function(e){var a=[];e.docs.map((function(e){var t={};(t=e.data()).id=e.id,a.push(t)})),c(a),t(!0)}))}),[]),i}(t,d),O=Object(n.useState)(0),C=Object(l.a)(O,2),N=C[0],D=C[1],B=Object(n.useState)(0),U=Object(l.a)(B,2),P=U[0],A=U[1],I=Object(n.useState)(0),W=Object(l.a)(I,2),R=W[0],F=W[1],V=Object(n.useState)(0),z=Object(l.a)(V,2),_=z[0],G=z[1],J=Object(n.useState)(0),Y=Object(l.a)(J,2),K=Y[0],Z=Y[1];return Object(n.useEffect)((function(){M.firestore().collection("users").doc(a).get().then(function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t.data().position);case 2:return e.next=4,E(t.data().name);case 4:return e.next=6,j(t.data().imgUrl);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))}),[]),Object(n.useEffect)((function(){k.length>0&&(console.log("dataaa",k),k.map(function(){var e=Object(u.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F((function(e){return e+a.todoList.length}));case 2:return e.t0=console,e.next=5,R;case 5:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),a.todoList.map(function(){var e=Object(u.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===a.assignedTo||a.assignedTo===t){e.next=3;break}return e.next=3,D((function(e){return e+1}));case 3:if(a.assignedBy===t||""===a.assignedBy){e.next=14;break}return e.next=6,A((function(e){return e+1}));case 6:if(!a.isComplete){e.next=11;break}return e.next=9,Z((function(e){return e+1}));case 9:e.next=13;break;case 11:return e.next=13,G((function(e){return e+1}));case 13:case 14:case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("assigned:",N,"assignee:",P,"total:",R,"remaining:",_,"completedTasks",K))}),[k.length]),c?r.a.createElement("div",{className:"ProfileComponent"},r.a.createElement(q.a,{maxWidth:"lg"},r.a.createElement(H.a,{container:!0,spacing:3},r.a.createElement(H.a,{item:!0,xs:4},r.a.createElement(X.a,null)),r.a.createElement(H.a,{item:!0,xs:4},r.a.createElement(X.a,null,r.a.createElement(T.a,{m:2,pt:2,width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingBottom:"20px"},r.a.createElement(S.a,{style:{width:"80px",height:"80px",marginRight:"15px"},alt:"",src:w}),console.log("URLLLLLLL",w),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(L.a,null,x)),r.a.createElement("li",null,r.a.createElement(L.a,null,f)))),r.a.createElement("box",null,r.a.createElement(L.a,null,"Still working on this page... X-D - Danny")),r.a.createElement("box",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(L.a,null,"My tasks: ",R)),r.a.createElement("li",null,r.a.createElement(L.a,null,"Assigned to others: ",N)),r.a.createElement("li",null,r.a.createElement(L.a,null,"Tasks assigned to me: ",P)),r.a.createElement("li",null,r.a.createElement(L.a,null,"Assigned to me completed: ",K)),r.a.createElement("li",null,r.a.createElement(L.a,null,"Assigned to me remaining: ",_)))))),r.a.createElement(H.a,{item:!0,xs:4},r.a.createElement(X.a,null))))):r.a.createElement("div",{id:"loader"},r.a.createElement(se.a,{style:{color:"#3dd19d"}}))},de=Object(p.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(m.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),background:"#fff"},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawer:{width:240,flexShrink:0},drawerContainer:{overflow:"auto"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(d.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},button:{position:"fixed",right:15,top:15,height:"auto",color:"white",background:"#3dd19d"},logoutButton:{position:"fixed",right:40,top:25,height:"auto",color:"black",background:"white",fontSize:"18px"},todoListRoot:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},emptyListText:{display:"block",whiteSpace:"initial",padding:20,textAlign:"center",fontSize:14,color:"#777777"},nested:{paddingLeft:e.spacing(5)},addTodoListButton:{outline:"0 !important",width:"100%"},listRemoveButton:{outline:"0 !important"}}}));var me=function(e){var t=e.toString();return t.toString().length>1?t:"0"+t},pe=function(e){var t=new Date(e);return me(t.getUTCFullYear())+"-"+me(t.getUTCMonth()+1)+"-"+me(t.getUTCDate())+"T"+me(t.getHours())+":"+me(t.getMinutes())},fe=function(e){var t=de(),a=M.auth().currentUser&&M.auth().currentUser.email;if(!(M.auth().currentUser&&M.auth().currentUser.displayName))return alert("Please login first"),e.history.replace("/"),null;var o=Object(n.useState)(!1),i=Object(l.a)(o,2),c=i[0],d=i[1],m=Object(n.useState)(!1),p=Object(l.a)(m,2),V=p[0],z=(p[1],Object(n.useState)("")),q=Object(l.a)(z,2),H=(q[0],q[1],Object(n.useState)("")),_=Object(l.a)(H,2),G=_[0],J=_[1],Y=Object(n.useState)(""),K=Object(l.a)(Y,2),X=K[0],Z=K[1];Object(n.useEffect)((function(){M.firestore().collection("users").doc(Q).get().then(function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t.data().name);case 2:return e.next=4,Z(t.data().imgUrl);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))}),[]);var $=M.auth().currentUser.email,Q=M.auth().currentUser.uid,ee=function(e){var t=r.a.useState([]),a=Object(l.a)(t,2),o=a[0],i=a[1];return Object(n.useEffect)((function(){M.firestore().collection(e).onSnapshot((function(e){var t=[];e.docs.map((function(e){var a={};(a=e.data()).id=e.id,t.push(a)})),i(t)}))}),[]),o}($),te=Object(n.useState)(!0),ae=Object(l.a)(te,2),ne=ae[0],re=ae[1],ie=Object(n.useState)(0),se=Object(l.a)(ie,2),me=se[0],fe=se[1],ge=Object(n.useState)({}),he=Object(l.a)(ge,2),be=he[0],xe=he[1];Object(n.useEffect)((function(){ee&&ee.length>0&&xe(ee[0])}),[ee.length]);var Ee=Object(n.useState)(3.14),ve=Object(l.a)(Ee,2),ye=ve[0],we=ve[1],je=Object(n.useState)(!1),ke=Object(l.a)(je,2),Oe=ke[0],Ce=ke[1],Le=Object(n.useState)(!1),Te=Object(l.a)(Le,2),Se=Te[0],Ne=Te[1],De=Object(n.useState)(!1),Be=Object(l.a)(De,2),Ue=Be[0],Pe=Be[1],Ae=Object(n.useState)(""),Ie=Object(l.a)(Ae,2),We=Ie[0],Re=Ie[1],Fe=Object(n.useState)(!1),Ve=Object(l.a)(Fe,2),ze=Ve[0],Me=Ve[1];Object(n.useEffect)((function(){console.log("Effect working."),console.log(ee),console.log(be),be||qe(ee[0],0),console.log("------ NEW LIST SELECT ------"),console.log(We),""!==We&&ee.map((function(e,t){e.id===We&&(Re(""),qe(e,t))}))}));var qe=function(){var e=Object(u.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(a);case 2:return e.next=4,xe(t);case 4:return e.next=6,d(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function He(){return(He=Object(u.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.auth().signOut();case 2:e.history.push("/");case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var _e=function(e){M.firestore().collection($).doc(be.id).set({name:e.name,todoList:e.todoList}).then((function(e){console.log(e)}))},Ge=function(){var e=Object(u.a)(s.a.mark((function e(t,a,n){var r,o,i,l,c,u=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>3&&void 0!==u[3]?u[3]:"simple",o="simple"===r?n.assignedTo:n.assignedBy,e.next=4,M.firestore().collection(o).doc(t).get().then((function(e){return e.exists?e.data():null}));case 4:(i=e.sent)&&(l=i.todoList.filter((function(e){return e.taskId!==n.taskId})),i.todoList=l,i.todoList.push(n)),c=i?i.todoList:new Array(n),M.firestore().collection(o).doc(t).set({name:a,todoList:c}).then((function(e){console.log(e)}));case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Je=function(){var e=Object(u.a)(s.a.mark((function e(t,a,n){var r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.firestore().collection(n.assignedTo).doc(t).get().then((function(e){return e.exists?e.data():null}));case 2:(r=e.sent)&&(r.todoList=r.todoList.filter((function(e){return e.taskId!==n.taskId}))),o=r?r.todoList:[],M.firestore().collection(n.assignedTo).doc(t).set({name:a,todoList:o}).then((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:t.root},r.a.createElement(k.a,null),r.a.createElement(O.a,{position:"fixed",className:t.appBar},r.a.createElement(C.a,null,r.a.createElement(v.a,{color:"primary",onClick:function(){return Me(!ze)}},r.a.createElement(I.a,null)),r.a.createElement(v.a,{href:"/home",style:{textTransform:"none"}},r.a.createElement(L.a,{style:{paddingTop:"10px"},color:"primary",variant:"h4",noWrap:!0},r.a.createElement("img",{alt:"logo",style:{paddingRight:"5px",marginBottom:"10px"},width:"30px",height:"35px",src:le.a}),"Todue")),window.screen.availWidth>750?r.a.createElement(T.a,{position:"fixed",right:180,top:20,display:"flex"},r.a.createElement(S.a,{alt:G,src:X}),r.a.createElement(T.a,{ml:1},r.a.createElement(v.a,{onClick:function(){return d(!0)},style:{textTransform:"none"}}," ",r.a.createElement(L.a,{variant:"h6",component:"span"},G)))):null,r.a.createElement(v.a,{variant:"contained",className:t.logoutButton,onClick:function(){return He.apply(this,arguments)},size:"small"},r.a.createElement(L.a,{variant:"body2"},"Log out")))),console.log(ze),r.a.createElement(N.a,{className:t.drawer,variant:"temporary",classes:{paper:t.drawerPaper},open:ze,onClose:function(){return Me(!ze)}},r.a.createElement(C.a,null),r.a.createElement("div",{className:t.drawerContainer},r.a.createElement(D.a,null,window.screen.availWidth<750?r.a.createElement(T.a,{ml:1,position:"relative",display:"flex"},r.a.createElement(S.a,{alt:G,src:X}),r.a.createElement(T.a,{ml:1},r.a.createElement(v.a,{onClick:function(){return d(!0)},style:{textTransform:"none"}}," ",r.a.createElement(L.a,{variant:"h6",component:"span"},G)))):null,r.a.createElement(y.a,{button:!0,onClick:function(){return re(!ne)}},r.a.createElement(B.a,{style:{color:"lightgreen"}},r.a.createElement(W.a,null)),r.a.createElement(w.a,{primary:"My Boards"}),ne?r.a.createElement(R.a,null):r.a.createElement(F.a,null)),r.a.createElement(U.a,{in:ne,timeout:"auto",unmountOnExit:!0},r.a.createElement(D.a,{component:"div",disablePadding:!0},ee.length>0?ee.map((function(e,a){return r.a.createElement(y.a,{button:!0,className:t.nested,key:e.id,selected:me===a,onClick:function(){qe(e,a),Me(!ze)}},r.a.createElement(w.a,{style:{whiteSpace:"initial"},primary:e.name}),r.a.createElement(j.a,{"aria-label":"delete",className:t.listRemoveButton,onClick:function(t){!function(e,t,a){e.stopPropagation(),M.firestore().collection($).doc(t.id).delete().then((function(e){t.id===be.id&&qe(ee[0],0)}))}(t,e)}},r.a.createElement(A.a,null)))})):r.a.createElement("div",null,r.a.createElement("span",{className:t.emptyListText},"Add your first todue..."))),r.a.createElement(v.a,{variant:"outlined",color:"primary",size:"small",className:t.addTodoListButton,onClick:function(){return console.log("addTodoList"),void Pe(!0)}},"+ Create Board"))))),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.appBarSpacer}),console.log("profileee",c),c?r.a.createElement(ue,{todoLists:ee,profileOpen:V,currentUserId:$}):r.a.createElement(oe,{list:be||{},updateTodoList:function(e){return _e(e)},openEditDialog:function(e,t){return function(e,t){console.log("openEditTodoDialog --\x3e "+t),console.log(e),we(t),Ce(!0)}(e,t)},openNewTodoDialog:function(){return console.log("openNewTodoDialog"),void Ne(!0)},currentUserEmail:a,removeNewAssignment:Je,selectedList:be,addNewAssignment:Ge}),r.a.createElement(T.a,{display:"flex",justifyContent:"center",mt:10,mb:5,p:2},r.a.createElement(P.a,{elevation:2},r.a.createElement(L.a,{variant:"body1",style:{padding:"10px"}},"Get started on your next task, idea, or project with todue boards.",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},href:"https://forms.gle/CVBbiajoySqQtTgo8"},r.a.createElement(L.a,{display:"inline",color:"primary"}," Join Email List"))))),r.a.createElement(T.a,{display:"flex",justifyContent:"center",mt:10,mb:5},r.a.createElement(L.a,{variant:"body1"},"Copyright 2021. Made by",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},href:"https://twitter.com/DannyMullan6"},r.a.createElement(L.a,{display:"inline",color:"primary"}," @DannyMullan6 "))))),function(){if(console.log("renderEditDialog"),console.log(be),ye%1===0){var e=be.todoList[ye],n=pe(e.date),o=e.name,i=e.detail,l=e.level,c=e.important,s=e.urgent,u=e.assignedTo;return console.log(e),r.a.createElement(f.a,{open:Oe,"aria-labelledby":"form-dialog-title"},r.a.createElement(g.a,{id:"form-dialog-title"},"EDIT"),r.a.createElement(h.a,null,r.a.createElement(b.a,null,"You can edit task/ step information here."),r.a.createElement(x.a,{autoFocus:!0,defaultValue:o,onChange:function(e){return o=e.target.value},margin:"dense",id:"todo-title",label:"Title",type:"text",fullWidth:!0}),r.a.createElement(x.a,{defaultValue:i,onChange:function(e){return i=e.target.value},margin:"dense",id:"todo-detail",label:"Details",type:"text",fullWidth:!0,multiline:!0,rows:4,variant:"outlined",marginTop:"10px"}),r.a.createElement(x.a,{defaultValue:l,onChange:function(e){return l=e.target.value},margin:"dense",id:"todo-level",label:"Level of difficulty (standard, intermediate, advanced)",type:"text",fullWidth:!0}),r.a.createElement(x.a,{defaultValue:c,onChange:function(e){return c=e.target.value},margin:"dense",id:"todo-important",label:"Level of importance out of 5 (1 = not important, 5 = most important",type:"text",fullWidth:!0}),r.a.createElement(x.a,{defaultValue:s,onChange:function(e){return s=e.target.value},margin:"dense",id:"todo-urgent",label:"Level of urgency (asap, today, tomorrow, this",type:"text",fullWidth:!0}),r.a.createElement(x.a,{defaultValue:n,onChange:function(e){return n=e.target.value},id:"todo-datetime",label:"date",type:"datetime-local",className:t.textField,InputLabelProps:{shrink:!0}})),r.a.createElement(E.a,null,r.a.createElement(v.a,{onClick:function(){Ce(!1),we(3.14)},color:"secondary"},"CLOSE"),r.a.createElement(v.a,{onClick:function(){return function(e,t,n,r,o,i,l){if(console.log("saveEditTodo"),""!==e){if(be.todoList[ye].name=e,be.todoList[ye].detail=t,be.todoList[ye].date=new Date(n).getTime(),be.todoList[ye].level=r,be.todoList[ye].important=o,be.todoList[ye].urgent=i,be.todoList[ye].assignedBy=a,be.todoList[ye].assignedTo=l,""!==l&&l!==a){if(l.toLowerCase().includes(".")&&l.toLowerCase().includes("@")&&l.toLowerCase().length>7){var c=be.todoList[ye];_e(be),Ge(be.id,be.name,c),Ce(!1),we(3.14)}else alert("not valid email");return}_e(be),Ce(!1),we(3.14)}else alert("Please check the form again, and make sure that there is no missing space.")}(o,i,n,l,c,s,u)},color:"primary"},"SAVE")))}return r.a.createElement("div",null)}(),function(){console.log("renderNewTodoDialog");var e=pe((new Date).getTime()),n="",o="",i="",l="",c="",s="";return r.a.createElement(f.a,{open:Se,"aria-labelledby":"form-dialog-title"},r.a.createElement(g.a,{id:"form-dialog-title"},"Add a task"),r.a.createElement(h.a,null,r.a.createElement(x.a,{autoFocus:!0,defaultValue:n,onChange:function(e){return n=e.target.value},margin:"normal",id:"todo-title",label:"Main Goal/Objective",type:"text",fullWidth:!0}),r.a.createElement(x.a,{defaultValue:o,onChange:function(e){return o=e.target.value},margin:"dense",id:"todo-detail",label:"Details, context, links, miltestones and tips etc",type:"text",fullWidth:!0,multiline:!0,rows:4,variant:"outlined",marginTop:"10px"}),r.a.createElement(x.a,{defaultValue:i,onChange:function(e){return i=e.target.value},margin:"dense",id:"todo-level",label:"Level of difficulty (standard, intermediate, advanced)",type:"text",fullWidth:!0}),r.a.createElement(x.a,{defaultValue:l,onChange:function(e){return l=e.target.value},margin:"dense",id:"todo-urgent",label:"Level of importance out of 5 (1 = not important, 5 = most important)",type:"text",fullWidth:!0}),r.a.createElement(x.a,{defaultValue:c,onChange:function(e){return c=e.target.value},margin:"dense",id:"todo-urgent",label:"Level of urgency. (ASAP, Today, Tomorrow, This Week etc)",type:"text",fullWidth:!0}),r.a.createElement(x.a,{defaultValue:e,onChange:function(t){return e=t.target.value},id:"todo-datetime",label:"Due date",type:"datetime-local",className:t.textField,InputLabelProps:{shrink:!0}}),r.a.createElement(x.a,{defaultValue:s,onChange:function(e){return s=e.target.value},id:"todo-assign",label:"Assign this task to someone (enter their email address)",type:"text",margin:"dense",fullWidth:!0})),r.a.createElement(E.a,null,r.a.createElement(v.a,{onClick:function(){return Ne(!1)},color:"secondary"},"Cancel"),r.a.createElement(v.a,{onClick:function(){return function(e,t,n,r,o,i,l){if(console.log("saveNewTodo"),""!==e){if(""!==l){if(l.toLowerCase().includes(".")&&l.toLowerCase().includes("@")&&l.toLowerCase().length>7){var c={name:e,detail:t,date:new Date(n).getTime(),level:r,important:o,urgent:i,isComplete:!1,createDate:(new Date).getTime(),assignedTo:l,assignedBy:a,taskId:Object(ce.a)()};be.todoList.push(c),_e(be),Ge(be.id,be.name,c),Ne(!1)}else alert("not valid email");return}be.todoList.push({name:e,detail:t,date:new Date(n).getTime(),level:r,important:o,urgent:i,isComplete:!1,createDate:(new Date).getTime(),assignedTo:"",assignedBy:a,taskId:Object(ce.a)()}),console.log(be),_e(be),Ne(!1)}else alert("A main goal/ objection is rquired. Everything else is optional")}(n,o,e,i,l,c,s)},color:"primary"},"Add task")))}(),function(){console.log("renderNewListDialog");var e="";return r.a.createElement(f.a,{open:Ue,"aria-labelledby":"form-dialog-title"},r.a.createElement(g.a,{id:"form-dialog-title"},"Create Board"),r.a.createElement(h.a,null,r.a.createElement(b.a,null,"Create a board for projects, lists, and routines etc."),r.a.createElement(x.a,{autoFocus:!0,defaultValue:e,onChange:function(t){return e=t.target.value},margin:"dense",id:"todo-title",label:"Title",type:"text",fullWidth:!0})),r.a.createElement(E.a,null,r.a.createElement(v.a,{onClick:function(){return Pe(!1)},color:"secondary"},"Cancel"),r.a.createElement(v.a,{onClick:function(){return function(e){console.log("saveNewTodo"),""!==e?M.firestore().collection($).add({name:e,todoList:[]}).then((function(e){Re(e.id),Pe(!1)})):alert("Please check the form again, and make sure that there is no missing space.")}(e)},color:"primary"},"Add")))}())},ge=a(263),he=a(238),be=a(258),xe=a(254),Ee=a(95),ve=a.n(Ee),ye=a(96),we=a.n(ye),je=a(62),ke=a(48);var Oe=Object(ke.f)(we()((function(e){return{main:Object(d.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit},createAccount:{background:"#41b5f0",marginTop:"10px"}}}))((function(e){var t=e.classes,a=Object(n.useState)(""),o=Object(l.a)(a,2),i=o[0],c=o[1],d=Object(n.useState)(""),m=Object(l.a)(d,2),p=m[0],f=m[1],g=Object(n.useState)("success"),h=Object(l.a)(g,2),b=h[0],x=h[1],E=Object(n.useState)("success"),y=Object(l.a)(E,2),w=y[0],j=y[1],k=Object(n.useState)(!1),O=Object(l.a)(k,2),C=O[0],T=O[1],N=function(e,t){"clickaway"!==t&&T(!1)};return r.a.createElement("main",{className:t.main},r.a.createElement(X.a,{className:t.paper},r.a.createElement(S.a,{className:t.avatar},r.a.createElement(ve.a,null)),r.a.createElement(L.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:t.form,onSubmit:function(e){return e.preventDefault()&&!1}},r.a.createElement(_.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(ge.a,{htmlFor:"email"},"Email Address"),r.a.createElement(he.a,{id:"email",name:"email",autoComplete:"on",autoFocus:!0,value:i,onChange:function(e){return c(e.target.value)}})),r.a.createElement(_.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(ge.a,{htmlFor:"password"},"Password"),r.a.createElement(he.a,{name:"password",type:"password",id:"password",autoComplete:"off",value:p,onChange:function(e){return f(e.target.value)}})),r.a.createElement(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return B.apply(this,arguments)},style:{textDecoration:"none",color:"white"},className:t.submit},"Sign in"),r.a.createElement(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"blue",component:je.b,to:"/register",style:{textDecoration:"none",color:"white"},className:t.createAccount},"Create Account")),r.a.createElement(v.a,{type:"submit",fullWidth:!0,onClick:function(){return D.apply(this,arguments)},variant:"outlined",color:"primary",style:{textDecoration:"none",color:"#3dd19d"},className:t.submit},"Forgot Password?")),r.a.createElement(be.a,{open:C,autoHideDuration:6e3,onClose:N},r.a.createElement(xe.a,{variant:"filled",onClose:N,severity:w},b)));function D(){return(D=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.length>10&&i.includes("@")&&i.includes("."))){e.next=5;break}return e.next=3,M.auth().sendPasswordResetEmail(i).then(Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("Email sent. Kindly check you email inbox after a few moments.");case 2:return e.next=4,j("success");case 4:return e.next=6,T("true");case 6:case"end":return e.stop()}}),e)})))).catch(function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t.message);case 2:return e.next=4,j("error");case 4:return e.next=6,T("true");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.next=11;break;case 5:return e.next=7,x("Please enter a valid email address");case 7:return e.next=9,j("error");case 9:return e.next=11,T("true");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(u.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M.auth().signInWithEmailAndPassword(i,p);case 3:return t.next=5,M.auth().currentUser.emailVerified;case 5:if(t.sent){t.next=18;break}return t.next=9,M.auth().currentUser.sendEmailVerification();case 9:return t.next=11,j("error");case 11:return t.next=13,x("Please check your mailbox for the confirmation email.");case 13:return t.next=15,T(!0);case 15:return t.next=17,M.auth().signOut();case 17:return t.abrupt("return");case 18:e.history.replace("/home"),e.history.go(0),t.next=30;break;case 22:return t.prev=22,t.t0=t.catch(0),t.next=26,x(t.t0.message);case 26:return t.next=28,j("error");case 28:return t.next=30,T("true");case 30:case"end":return t.stop()}}),t,null,[[0,22]])})))).apply(this,arguments)}})));var Ce=Object(ke.f)(we()((function(e){return{main:Object(d.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit},backToLogin:{background:"#41b5f0",marginTop:"10px"}}}))((function(e){var t=e.classes,a=M.storage(),o=Object(n.useState)(!1),i=Object(l.a)(o,2),c=i[0],d=i[1],m=Object(n.useState)(null),p=Object(l.a)(m,2),f=p[0],g=p[1],h=Object(n.useState)(""),b=Object(l.a)(h,2),x=b[0],E=b[1],y=Object(n.useState)(""),w=Object(l.a)(y,2),j=w[0],k=w[1],O=Object(n.useState)(""),C=Object(l.a)(O,2),N=C[0],D=C[1],B=Object(n.useState)(""),U=Object(l.a)(B,2),P=U[0],A=U[1],I=Object(n.useState)(""),W=Object(l.a)(I,2),R=W[0],F=W[1],V=Object(n.useState)(""),z=Object(l.a)(V,2),q=z[0],H=(z[1],Object(n.useState)(!1)),G=Object(l.a)(H,2),J=G[0],Y=G[1],K=Object(n.useState)("success"),Z=Object(l.a)(K,2),$=Z[0],Q=Z[1],ee=Object(n.useState)(""),te=Object(l.a)(ee,2),ae=te[0],ne=te[1],re=function(e,t){"clickaway"!==t&&Y(!1)},oe=function(){var e=Object(u.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],e.next=3,g(a);case 3:ie(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.name;case 3:n=e.sent,a.ref("/images/".concat(n)).put(t).on("state_changed",{complete:function(){a.ref("images").child(n).getDownloadURL().then((function(e){E(e),console.log("URLLLLLLLLLLL",e)}))}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("ERRORRRRRRRRRRR",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){return""===j?"Please enter your full name":j.length>20?"Name can only be of 20 characters":j.includes(" ")?P.length>20?"Username can only be of 20 characters":P.includes(" ")?"username cannot contain spaces":P.includes("`")||P.includes("!")||P.includes("@")||P.includes("#")||P.includes("$")||P.includes("%")||P.includes("^")||P.includes("&")||P.includes("*")||P.includes("'")||P.includes("/")||P.includes("\\")?"username cannot contain special characters except underscore: _ ":""===P?"Please enter a unique username":""===N?"Please enter a valid email address":null!==f||"Please upload your profile picture ":"Please use your full name"};return r.a.createElement("main",{className:t.main},r.a.createElement(X.a,{className:t.paper},r.a.createElement(S.a,{className:t.avatar},r.a.createElement(ve.a,null)),r.a.createElement(L.a,{component:"h1",variant:"h5"},"Create Account"),r.a.createElement("form",{className:t.form,onSubmit:function(e){return e.preventDefault()&&!1}},r.a.createElement(_.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(ge.a,{htmlFor:"name"},"Full Name (first and last name)"),r.a.createElement(he.a,{id:"name",name:"name",autoComplete:"on",autoFocus:!0,value:j,onChange:function(e){return k(e.target.value)}})),r.a.createElement(_.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(ge.a,{htmlFor:"username"},"Username (no spaces)"),r.a.createElement(he.a,{id:"username",name:"username",autoComplete:"on",value:P,onChange:function(e){return A(e.target.value)}})),r.a.createElement(_.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(ge.a,{htmlFor:"email"},"Email Address"),r.a.createElement(he.a,{id:"email",name:"email",autoComplete:"on",value:N,onChange:function(e){return D(e.target.value)}})),r.a.createElement(L.a,null,"Profile Picture (only .jpg files)"),r.a.createElement(_.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(ge.a,{htmlFor:"file"},"Profile Picture"),r.a.createElement(he.a,{id:"file",name:"file",type:"file",onChange:oe})),r.a.createElement(_.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(ge.a,{htmlFor:"password"},"Password"),r.a.createElement(he.a,{name:"password",type:"password",id:"password",autoComplete:"off",value:R,onChange:function(e){return F(e.target.value)}})),c?r.a.createElement(T.a,{display:"flex",justifyContent:"center",width:"100%"},r.a.createElement(se.a,{style:{color:"#3dd19d"}})):r.a.createElement(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return ce.apply(this,arguments)},className:t.submit,style:{textDecoration:"none",color:"white"}},"Register"),r.a.createElement(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"black",style:{textDecoration:"none"},className:t.backToLogin},r.a.createElement(je.b,{to:"/",style:{textDecoration:"none",color:"white"}},"Go back to Login ")))),r.a.createElement(be.a,{open:J,autoHideDuration:4e3,onClose:re},r.a.createElement(xe.a,{variant:"filled",onClose:re,severity:$},ae)));function ce(){return(ce=Object(u.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!0===(a=le())){t.next=10;break}return t.next=5,Q("error");case 5:return t.next=7,ne(a);case 7:return t.next=9,Y(!0);case 9:return t.abrupt("return");case 10:return t.next=12,d(!0);case 12:M.firestore().collection("users").where("psudo","==",P).get().then(function(){var t=Object(u.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null!==a&&a.size>0)){t.next=12;break}return t.next=3,Q("error");case 3:return t.next=5,ne("A user with username ".concat(P," already exists"));case 5:return t.next=7,Y(!0);case 7:return t.next=9,d(!1);case 9:return t.abrupt("return");case 12:return t.prev=12,t.next=15,M.auth().createUserWithEmailAndPassword(N,R);case 15:t.next=27;break;case 17:return t.prev=17,t.t0=t.catch(12),t.next=21,Q("error");case 21:return t.next=23,ne(t.t0.message);case 23:return t.next=25,Y(!0);case 25:return t.next=27,d(!1);case 27:if(null!==M.auth().currentUser){t.next=29;break}return t.abrupt("return");case 29:return t.next=31,M.auth().currentUser.updateProfile({displayName:P}).then(Object(u.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.auth().currentUser.sendEmailVerification();case 2:return t.next=4,M.auth().currentUser.uid;case 4:a=t.sent,setTimeout((function(){M.firestore().collection("users").doc(a).set({name:j,email:N,psudo:P,position:q,imgUrl:x}).then(function(){var t=Object(u.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q("success");case 2:return t.next=4,ne("Log in to your email to verify, then return to https://mytodue.com/ to sign in.");case 4:return t.next=6,Y(!0);case 6:return t.next=8,d(!1);case 8:setTimeout((function(){return e.history.replace("/")}),3e3);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q("error");case 2:return e.next=4,ne(t.message);case 4:return e.next=6,Y(!0);case 6:return e.next=8,d(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),5e3);case 6:case"end":return t.stop()}}),t)}))));case 31:case"end":return t.stop()}}),t,null,[[12,17]])})));return function(e){return t.apply(this,arguments)}}()),t.next=25;break;case 15:return t.prev=15,t.t0=t.catch(0),t.next=19,Q("error");case 19:return t.next=21,ne(t.t0.message);case 21:return t.next=23,Y(!0);case 23:return t.next=25,d(!1);case 25:case"end":return t.stop()}}),t,null,[[0,15]])})))).apply(this,arguments)}}))),Le=a(133),Te=a(252),Se=Object(Le.a)({palette:{primary:{main:"#3dd19d"},secondary:{main:"#3dd19d"}}});function Ne(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){new Promise((function(e){M.auth().onAuthStateChanged(e)})).then((function(e){o(e)}))})),!1!==a?r.a.createElement(Te.a,{theme:Se},r.a.createElement(k.a,null),r.a.createElement(je.a,null,r.a.createElement(ke.c,null,r.a.createElement(ke.a,{exact:!0,path:"/",component:Oe}),r.a.createElement(ke.a,{exact:!0,path:"/register",component:Ce}),r.a.createElement(ke.a,{exact:!0,path:"/home",component:fe})))):r.a.createElement("div",{id:"loader"},r.a.createElement(se.a,{style:{color:"#3dd19d"}}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(187);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[147,1,2]]]);
//# sourceMappingURL=main.0ea9a726.chunk.js.map